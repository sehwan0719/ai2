<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ê°ì • ê¸°ë°˜ ëª…ì–¸ ì±…</title>
<style>
  body {
    font-family: 'Noto Sans KR', sans-serif;
    background: #f0f0f0;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 30px;
    user-select: none;
  }

  h1 {
    margin-bottom: 20px;
  }

  #emotion-buttons {
    margin-bottom: 30px;
  }

  #emotion-buttons button {
    background: #007BFF;
    border: none;
    color: white;
    font-size: 16px;
    padding: 10px 16px;
    margin: 6px;
    border-radius: 5px;
    cursor: pointer;
    transition: background 0.3s;
  }

  #emotion-buttons button:hover {
    background: #0056b3;
  }

  #book-container {
    width: 400px;
    height: 300px;
    perspective: 1500px;
  }

  .page {
    position: absolute;
    width: 100%;
    height: 100%;
    background: white;
    border: 1px solid #ccc;
    box-shadow: 0 0 25px rgba(0, 0, 0, 0.15);
    border-radius: 10px;
    transform-origin: left center;
    transition: transform 1s ease-in-out;
    overflow: hidden;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 30px;
    box-sizing: border-box;
  }

  .front {
    z-index: 2;
    transform: rotateY(0deg);
  }

  .back {
    transform: rotateY(-180deg);
  }

  .page.flipped.front {
    transform: rotateY(-180deg);
    z-index: 1;
  }

  .page.flipped.back {
    transform: rotateY(0deg);
    z-index: 2;
  }

  .content {
    font-size: 18px;
    text-align: center;
    line-height: 1.5;
  }

  #control-buttons {
    margin-top: 20px;
  }

  #control-buttons button {
    background: #28a745;
    border: none;
    color: white;
    font-size: 15px;
    padding: 8px 14px;
    margin: 0 10px;
    border-radius: 5px;
    cursor: pointer;
    transition: background 0.3s;
  }

  #control-buttons button:hover {
    background: #1e7e34;
  }

</style>
</head>
<body>

<h1>ğŸ“˜ ê°ì •ì˜ ì˜·ì¥ì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤!</h1>
<div id="emotion-buttons">
  <!-- ê°ì • ë²„íŠ¼ë“¤ -->
  <button data-emotion="í–‰ë³µ">í–‰ë³µ</button>
  <button data-emotion="ìŠ¬í””">ìŠ¬í””</button>
  <button data-emotion="ë¶„ë…¸">ë¶„ë…¸</button>
  <button data-emotion="ë¶ˆì•ˆ">ë¶ˆì•ˆ</button>
  <button data-emotion="í‰ì˜¨">í‰ì˜¨</button>
  <button data-emotion="ì„¤ë ˜">ì„¤ë ˜</button>
  <button data-emotion="ì§€ë£¨í•¨">ì§€ë£¨í•¨</button>
  <button data-emotion="í”¼ê³¤í•¨">í”¼ê³¤í•¨</button>
  <button data-emotion="ìì‹ ê°">ìì‹ ê°</button>
  <button data-emotion="ì™¸ë¡œì›€">ì™¸ë¡œì›€</button>
</div>

<div id="book-container">
  <div class="page front">
    <div class="content" id="front-content">
      ê°ì • ìƒíƒœë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”
    </div>
  </div>
  <div class="page back">
    <div class="content" id="back-content">
      ëª…ì–¸ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.
    </div>
  </div>
</div>

<div id="control-buttons" style="display:none;">
  <button id="btn-other-quote">ğŸ” ë‹¤ë¥¸ ëª…ì–¸ ë³´ê¸°</button>
  <button id="btn-back-to-menu">â†© ê°ì • ë‹¤ì‹œ ê³ ë¥´ê¸°</button>
</div>

<script>
  // ëª…ì–¸ ë°ì´í„°
  const quotesByEmotion = {
    "í–‰ë³µ": [
      ["íŒ¨ì…˜ì€ í–‰ë³µì„ ì…ëŠ” ë°©ë²•ì´ë‹¤.", "John Galliano"],
      ["ìŠ¤íƒ€ì¼ì€ ìê¸° ìì‹ ì„ ì‚¬ë‘í•˜ëŠ” ë°©ë²•ì´ì•¼.", "Donna Karan"],
      ["í–‰ë³µì€ ì¢‹ì€ ì˜·ì„ ì…ëŠ” ê²ƒì—ì„œ ì‹œì‘ëœë‹¤.", "Vivienne Westwood"]
    ],
    "ìŠ¬í””": [
      ["ì–´ë‘ìš´ ë‚ ì—ë„ ë©‹ì€ ë¹›ë‚  ìˆ˜ ìˆë‹¤.", "Marc Jacobs"],
      ["ìŠ¤íƒ€ì¼ì€ ê°ì •ì„ ì¹˜ìœ í•˜ëŠ” ë¬´ê¸°ë‹¤.", "Tom Ford"],
      ["ìš°ì•„í•¨ì€ ê³ í†µ ì†ì—ì„œë„ ì§€ì¼œì•¼ í•  ê°€ì¹˜ë‹¤.", "Coco Chanel"]
    ],
    "ë¶„ë…¸": [
      ["ë¶„ë…¸ì¡°ì°¨ íŒ¨ì…˜ìœ¼ë¡œ ìŠ¹í™”ì‹œì¼œë¼.", "Alexander McQueen"],
      ["ê°•ë ¬í•¨ì€ ê°€ì¥ ê°•ë ¥í•œ ìŠ¤íƒ€ì¼ì´ë‹¤.", "Riccardo Tisci"],
      ["íŒ¨ì…˜ì€ ê°ì •ì„ í‘œí˜„í•˜ëŠ” ì˜ˆìˆ ì´ë‹¤.", "Yves Saint Laurent"]
    ],
    "ë¶ˆì•ˆ": [
      ["ìì‹ ì„ ë¯¿ê³  ì…ì–´ë¼. ê·¸ê²Œ ìŠ¤íƒ€ì¼ì˜ ì‹œì‘ì´ë‹¤.", "Michael Kors"],
      ["íŒ¨ì…˜ì€ ìê¸° í™•ì‹ ì„ ë§Œë“¤ì–´ì£¼ëŠ” ë°©íŒ¨ë‹¤.", "Diane von FÃ¼rstenberg"],
      ["ë¶ˆì•ˆí•œ ë‚ ì—”, ë‹¨ì •í•¨ì´ ë‚˜ë¥¼ ì§€ì¼œì¤€ë‹¤.", "Raf Simons"]
    ],
    "í‰ì˜¨": [
      ["ì‹¬í”Œí•¨ì€ ì§„ì •í•œ í‰ì˜¨ì´ë‹¤.", "Giorgio Armani"],
      ["íŒ¨ì…˜ì€ ë§ˆìŒì˜ ê³ ìš”í•¨ì„ ë¹„ì¶”ëŠ” ê±°ìš¸ì´ë‹¤.", "Jil Sander"],
      ["ê· í˜• ì¡íŒ ìŠ¤íƒ€ì¼ì€ ë§ˆìŒì„ ì”ì”í•˜ê²Œ ë§Œë“ ë‹¤.", "Phillip Lim"]
    ],
    "ì„¤ë ˜": [
      ["ìƒˆ ì˜·ì€ ìƒˆë¡œìš´ ê¸°ë¶„ì„ ë§Œë“ ë‹¤.", "Vera Wang"],
      ["ì„¤ë ˜ì€ ìƒˆë¡œìš´ ìŠ¤íƒ€ì¼ë¡œ í‘œí˜„ëœë‹¤.", "Marc Jacobs"],
      ["íŒ¨ì…˜ì€ ì¸ìƒì˜ ìŠ¤íŒŒí´ì´ë‹¤.", "Betsey Johnson"]
    ],
    "ì§€ë£¨í•¨": [
      ["íŒ¨ì…˜ì€ ì§€ë£¨í•¨ì„ ê±°ë¶€í•˜ëŠ” ì–¸ì–´ë‹¤.", "Anna Dello Russo"],
      ["ì˜¤ëŠ˜ì´ ì‹¬ì‹¬í•œê°€? ê·¸ëŸ¼ ì˜·ìœ¼ë¡œ ì‹¤í—˜í•´ë´.", "Jacquemus"],
      ["ìŠ¤íƒ€ì¼ì€ ì¼ìƒì— ë§ˆë²•ì„ ë”í•œë‹¤.", "Alber Elbaz"]
    ],
    "í”¼ê³¤í•¨": [
      ["í¸ì•ˆí•¨ ì†ì—ë„ ë©‹ì€ ìˆë‹¤.", "Coco Chanel"],
      ["ìŠ¤íƒ€ì¼ì€ í”¼ê³¤í•¨ì„ ê°ì¶°ì£¼ëŠ” ë¬´ê¸°ë‹¤.", "Tom Ford"],
      ["ë£¨ì¦ˆí•´ë„ ë©‹ì§ˆ ìˆ˜ ìˆì–´.", "Stella McCartney"]
    ],
    "ìì‹ ê°": [
      ["íŒ¨ì…˜ì€ ìì‹ ê°ì„ ì…ëŠ” ê²ƒì´ë‹¤.", "Diane von FÃ¼rstenberg"],
      ["ìì‹ ê°ì€ ìµœê³ ì˜ ìŠ¤íƒ€ì¼ì´ë‹¤.", "Oscar de la Renta"],
      ["ë‹¹ë‹¹í•˜ê²Œ ê±·ëŠ” ê²ƒì´ ìµœê³ ì˜ ì•¡ì„¸ì„œë¦¬ë‹¤.", "Victoria Beckham"]
    ],
    "ì™¸ë¡œì›€": [
      ["íŒ¨ì…˜ì€ ë‚˜ ìì‹ ê³¼ ì†Œí†µí•˜ëŠ” ë„êµ¬ì•¼.", "Alexander Wang"],
      ["ì˜·ì€ ë‚˜ì˜ ë§ˆìŒì„ ì•ˆì•„ì¤€ë‹¤.", "Marc Jacobs"],
      ["ê³ ìš”í•¨ ì†ì—ì„œë„ ë‚˜ëŠ” ë¹›ë‚  ìˆ˜ ìˆë‹¤.", "Iris van Herpen"]
    ]
  };

  const frontPage = document.querySelector('.front');
  const backPage = document.querySelector('.back');
  const frontContent = document.getElementById('front-content');
  const backContent = document.getElementById('back-content');
  const btnOtherQuote = document.getElementById('btn-other-quote');
  const btnBackToMenu = document.getElementById('btn-back-to-menu');
  const controlButtons = document.getElementById('control-buttons');
  const emotionButtons = document.querySelectorAll('#emotion-buttons button');

  let currentEmotion = null;
  let usedQuotes = [];

  // í˜ì´ì§€ ë„˜ê¸°ê¸° í•¨ìˆ˜
  function flipBook() {
    frontPage.classList.toggle('flipped');
    backPage.classList.toggle('flipped');
  }

  // ëª…ì–¸ ëœë¤ ì„ íƒ (ì¤‘ë³µ í”¼í•˜ê¸°)
  function getRandomQuote(emotion) {
    if (!quotesByEmotion[emotion]) return null;
    const quotes = quotesByEmotion[emotion];

    // ëª¨ë“  ëª…ì–¸ì„ ë‹¤ ì‚¬ìš©í–ˆë‹¤ë©´ ì´ˆê¸°í™”
    if (usedQuotes.length >= quotes.length) usedQuotes = [];

    let idx;
    do {
      idx = Math.floor(Math.random() * quotes.length);
    } while (usedQuotes.includes(idx));

    usedQuotes.push(idx);
    return quotes[idx];
  }

  // ëª…ì–¸ ì¶œë ¥ ë° í˜ì´ì§€ ë„˜ê¸°ê¸°
  function showQuote(emotion) {
    currentEmotion = emotion;
    const [quote, author] = getRandomQuote(emotion) || ["ëª…ì–¸ì´ ì—†ìŠµë‹ˆë‹¤.", ""];
    const randomPageNum = Math.floor(Math.random() * 289) + 12; // 12~300

    frontContent.textContent = `ğŸ“„ ${randomPageNum} í˜ì´ì§€`;
    backContent.innerHTML = `
      <div style="font-size: 20px; font-weight: 600; margin-bottom: 12px;">ğŸ§  ê°ì • ìƒíƒœ: ${emotion}</div>
      <div style="font-style: italic;">"${quote}"</div>
      <div style="margin-top: 15px; font-weight: 700;">ğŸ‘— ${author}</div>
    `;

    flipBook();
    controlButtons.style.display = "block";
  }

  // ê°ì • ì„ íƒ ì‹œ ì²˜ë¦¬
  emotionButtons.forEach(button => {
    button.addEventListener('click', () => {
      usedQuotes = [];
      showQuote(button.dataset.emotion);
    });
  });

  // ë‹¤ë¥¸ ëª…ì–¸ ë³´ê¸° ë²„íŠ¼
  btnOtherQuote.addEventListener('click', () => {
    showQuote(currentEmotion);
  });

  // ë‹¤ì‹œ ê°ì • ì„ íƒ í™”ë©´ìœ¼ë¡œ ëŒì•„ê°€ê¸°
  btnBackToMenu.addEventListener('click', () => {
    flipBook();
    controlButtons.style.display = "none";

    // ì•½ê°„ì˜ ë”œë ˆì´ í›„ì— ì•ë©´ ë‚´ìš© ì´ˆê¸°í™”
    setTimeout(() => {
      frontContent.textContent = "ê°ì • ìƒíƒœë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”";
      backContent.textContent = "ëª…ì–¸ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.";
      currentEmotion = null;
      usedQuotes = [];
    }, 600); // í˜ì´ì§€ ë‹«íˆëŠ” ì• ë‹ˆë©”ì´ì…˜ ì‹œê°„ê³¼ ë§ì¶¤
  });
</script>

</body>
</html>
